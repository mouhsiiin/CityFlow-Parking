// Mock data for testing without backend
import type {
  User,
  ParkingSpot,
  Reservation,
  ChargingStation,
  ChargingSession,
  Transaction,
  WalletInfo,
  LoginResponse,
} from '../types';

// Generate random blockchain metadata
const generateBlockchainMetadata = () => ({
  txId: `0x${Math.random().toString(16).substr(2, 64)}`,
  blockNumber: Math.floor(Math.random() * 10000) + 1000,
  endorsingOrgs: ['Org1MSP', 'Org2MSP', 'Org3MSP'].slice(0, Math.floor(Math.random() * 2) + 2),
});

// Mock Users
export const mockUsers: User[] = [
  {
    id: 'user001',
    email: 'john.doe@example.com',
    firstName: 'John',
    lastName: 'Doe',
    phone: '+1234567890',
    walletAddress: '0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb',
    balance: 150.00,
    role: 'user',
    isActive: true,
    createdAt: '2024-01-15T10:00:00Z',
    updatedAt: '2024-12-04T10:00:00Z',
    ...generateBlockchainMetadata(),
  },
  {
    id: 'user002',
    email: 'admin@cityflow.com',
    firstName: 'Admin',
    lastName: 'User',
    phone: '+1234567891',
    walletAddress: '0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063',
    balance: 500.00,
    role: 'admin',
    isActive: true,
    createdAt: '2024-01-01T08:00:00Z',
    updatedAt: '2024-12-04T10:00:00Z',
    ...generateBlockchainMetadata(),
  },
];

// Mock Parking Spots
export const mockParkingSpots: ParkingSpot[] = [
  {
    id: 'spot001',
    spotNumber: 'A-101',
    location: {
      latitude: 40.7128,
      longitude: -74.0060,
      address: '123 Main St, Downtown, New York, NY',
    },
    type: 'parking',
    status: 'available',
    pricePerHour: 5.00,
    features: ['covered', 'security', '24/7 access'],
    hasEVCharging: false,
    operatorId: 'Org1MSP',
    createdAt: '2024-01-10T08:00:00Z',
    updatedAt: '2024-12-04T09:00:00Z',
    ...generateBlockchainMetadata(),
  },
  {
    id: 'spot002',
    spotNumber: 'A-102',
    location: {
      latitude: 40.7130,
      longitude: -74.0062,
      address: '125 Main St, Downtown, New York, NY',
    },
    type: 'parking',
    status: 'occupied',
    pricePerHour: 5.00,
    features: ['covered', 'security'],
    hasEVCharging: false,
    operatorId: 'Org1MSP',
    createdAt: '2024-01-10T08:00:00Z',
    updatedAt: '2024-12-04T09:30:00Z',
    ...generateBlockchainMetadata(),
  },
  {
    id: 'spot003',
    spotNumber: 'B-201',
    location: {
      latitude: 40.7135,
      longitude: -74.0065,
      address: '200 Park Ave, Midtown, New York, NY',
    },
    type: 'parking',
    status: 'available',
    pricePerHour: 8.00,
    features: ['covered', 'security', '24/7 access', 'valet'],
    hasEVCharging: false,
    operatorId: 'Org1MSP',
    createdAt: '2024-01-10T08:00:00Z',
    updatedAt: '2024-12-04T08:45:00Z',
    ...generateBlockchainMetadata(),
  },
  {
    id: 'spot004',
    spotNumber: 'C-301',
    location: {
      latitude: 40.7140,
      longitude: -74.0070,
      address: '350 Fifth Ave, Midtown, New York, NY',
    },
    type: 'ev_charging',
    status: 'available',
    pricePerHour: 6.00,
    chargingPower: 50,
    features: ['fast-charging', 'covered', 'security'],
    hasEVCharging: true,
    operatorId: 'Org2MSP',
    createdAt: '2024-01-15T10:00:00Z',
    updatedAt: '2024-12-04T09:15:00Z',
    ...generateBlockchainMetadata(),
  },
  {
    id: 'spot005',
    spotNumber: 'C-302',
    location: {
      latitude: 40.7142,
      longitude: -74.0072,
      address: '352 Fifth Ave, Midtown, New York, NY',
    },
    type: 'ev_charging',
    status: 'available',
    pricePerHour: 7.00,
    chargingPower: 150,
    features: ['supercharger', 'covered', 'security', '24/7 access'],
    hasEVCharging: true,
    operatorId: 'Org2MSP',
    createdAt: '2024-01-15T10:00:00Z',
    updatedAt: '2024-12-04T09:20:00Z',
    ...generateBlockchainMetadata(),
  },
  {
    id: 'spot006',
    spotNumber: 'D-401',
    location: {
      latitude: 40.7145,
      longitude: -74.0075,
      address: '450 Broadway, SoHo, New York, NY',
    },
    type: 'parking',
    status: 'available',
    pricePerHour: 4.50,
    features: ['outdoor', 'security'],
    hasEVCharging: false,
    operatorId: 'Org1MSP',
    createdAt: '2024-01-10T08:00:00Z',
    updatedAt: '2024-12-04T08:30:00Z',
    ...generateBlockchainMetadata(),
  },
];

// Mock Reservations
export const mockReservations: Reservation[] = [
  {
    id: 'booking001',
    spotId: 'spot002',
    userId: 'user001',
    startTime: '2024-12-04T14:00:00Z',
    endTime: '2024-12-04T18:00:00Z',
    actualCheckIn: '2024-12-04T14:05:00Z',
    actualCheckOut: undefined,
    duration: 4,
    pricePerHour: 5.00,
    status: 'active',
    totalCost: 20.00,
    qrCode: 'QR-BOOKING001-2024',
    paymentId: 'payment001',
    blockchainTxHash: '0x' + Math.random().toString(16).substr(2, 64),
    createdAt: '2024-12-04T13:50:00Z',
    updatedAt: '2024-12-04T14:05:00Z',
    blockNumber: 5234,
    endorsingOrgs: ['Org1MSP', 'Org3MSP'],
  },
  {
    id: 'booking002',
    spotId: 'spot001',
    userId: 'user001',
    startTime: '2024-12-03T10:00:00Z',
    endTime: '2024-12-03T14:00:00Z',
    actualCheckIn: '2024-12-03T10:02:00Z',
    actualCheckOut: '2024-12-03T14:10:00Z',
    duration: 4,
    pricePerHour: 5.00,
    status: 'completed',
    totalCost: 20.00,
    qrCode: 'QR-BOOKING002-2024',
    paymentId: 'payment002',
    blockchainTxHash: '0x' + Math.random().toString(16).substr(2, 64),
    createdAt: '2024-12-03T09:45:00Z',
    updatedAt: '2024-12-03T14:10:00Z',
    blockNumber: 5120,
    endorsingOrgs: ['Org1MSP', 'Org3MSP'],
  },
  {
    id: 'booking003',
    spotId: 'spot003',
    userId: 'user001',
    startTime: '2024-12-02T08:00:00Z',
    endTime: '2024-12-02T12:00:00Z',
    actualCheckIn: '2024-12-02T08:05:00Z',
    actualCheckOut: '2024-12-02T12:00:00Z',
    duration: 4,
    pricePerHour: 8.00,
    status: 'completed',
    totalCost: 32.00,
    qrCode: 'QR-BOOKING003-2024',
    paymentId: 'payment003',
    blockchainTxHash: '0x' + Math.random().toString(16).substr(2, 64),
    createdAt: '2024-12-02T07:50:00Z',
    updatedAt: '2024-12-02T12:00:00Z',
    blockNumber: 5010,
    endorsingOrgs: ['Org1MSP', 'Org3MSP'],
  },
];

// Mock Charging Stations
export const mockChargingStations: ChargingStation[] = [
  {
    id: 'station001',
    stationNumber: 'CS-001',
    location: {
      latitude: 40.7140,
      longitude: -74.0070,
      address: '350 Fifth Ave, Midtown, New York, NY',
    },
    powerOutput: 50,
    pricePerKwh: 0.35,
    connectorType: 'CCS',
    status: 'available',
    features: ['fast-charging', 'payment-terminal', 'wifi'],
    operatorId: 'Org2MSP',
    createdAt: '2024-01-15T10:00:00Z',
    updatedAt: '2024-12-04T09:00:00Z',
    ...generateBlockchainMetadata(),
  },
  {
    id: 'station002',
    stationNumber: 'CS-002',
    location: {
      latitude: 40.7142,
      longitude: -74.0072,
      address: '352 Fifth Ave, Midtown, New York, NY',
    },
    powerOutput: 150,
    pricePerKwh: 0.45,
    connectorType: 'Tesla',
    status: 'in-use',
    features: ['supercharger', 'payment-terminal', 'wifi', 'lounge'],
    operatorId: 'Org2MSP',
    createdAt: '2024-01-15T10:00:00Z',
    updatedAt: '2024-12-04T09:30:00Z',
    ...generateBlockchainMetadata(),
  },
  {
    id: 'station003',
    stationNumber: 'CS-003',
    location: {
      latitude: 40.7145,
      longitude: -74.0075,
      address: '450 Broadway, SoHo, New York, NY',
    },
    powerOutput: 75,
    pricePerKwh: 0.38,
    connectorType: 'Type2',
    status: 'available',
    features: ['fast-charging', 'payment-terminal'],
    operatorId: 'Org2MSP',
    createdAt: '2024-01-20T11:00:00Z',
    updatedAt: '2024-12-04T08:45:00Z',
    ...generateBlockchainMetadata(),
  },
];

// Mock Charging Sessions
export const mockChargingSessions: ChargingSession[] = [
  {
    id: 'session001',
    userId: 'user001',
    stationId: 'station002',
    startTime: '2024-12-04T14:00:00Z',
    endTime: undefined,
    duration: 0,
    energyConsumed: 12.5,
    pricePerKwh: 0.45,
    currentCost: 5.63,
    totalCost: 0,
    status: 'active',
    paymentId: undefined,
    createdAt: '2024-12-04T14:00:00Z',
    updatedAt: '2024-12-04T14:30:00Z',
    blockchainTxHash: '0x' + Math.random().toString(16).substr(2, 64),
    blockNumber: 5235,
    endorsingOrgs: ['Org2MSP', 'Org3MSP'],
  },
  {
    id: 'session002',
    userId: 'user001',
    stationId: 'station001',
    startTime: '2024-12-03T16:00:00Z',
    endTime: '2024-12-03T17:30:00Z',
    duration: 90,
    energyConsumed: 35.0,
    pricePerKwh: 0.35,
    currentCost: 12.25,
    totalCost: 12.25,
    status: 'completed',
    paymentId: 'payment004',
    createdAt: '2024-12-03T16:00:00Z',
    updatedAt: '2024-12-03T17:30:00Z',
    blockchainTxHash: '0x' + Math.random().toString(16).substr(2, 64),
    blockNumber: 5150,
    endorsingOrgs: ['Org2MSP', 'Org3MSP'],
  },
];

// Mock Transactions
export const mockTransactions: Transaction[] = [
  {
    id: 'tx001',
    walletId: 'wallet001',
    userId: 'user001',
    type: 'deposit',
    amount: 100.00,
    balanceBefore: 50.00,
    balanceAfter: 150.00,
    timestamp: '2024-12-01T10:00:00Z',
    blockchainTxHash: '0x' + Math.random().toString(16).substr(2, 64),
    status: 'confirmed',
    description: 'Wallet deposit',
    blockNumber: 4900,
    endorsingOrgs: ['Org3MSP'],
  },
  {
    id: 'tx002',
    walletId: 'wallet001',
    userId: 'user001',
    type: 'payment',
    amount: 20.00,
    balanceBefore: 150.00,
    balanceAfter: 130.00,
    timestamp: '2024-12-03T09:45:00Z',
    blockchainTxHash: '0x' + Math.random().toString(16).substr(2, 64),
    status: 'confirmed',
    description: 'Payment for parking reservation',
    paymentId: 'payment002',
    reservationId: 'booking002',
    blockNumber: 5119,
    endorsingOrgs: ['Org1MSP', 'Org3MSP'],
  },
  {
    id: 'tx003',
    walletId: 'wallet001',
    userId: 'user001',
    type: 'payment',
    amount: 32.00,
    balanceBefore: 130.00,
    balanceAfter: 98.00,
    timestamp: '2024-12-02T07:50:00Z',
    blockchainTxHash: '0x' + Math.random().toString(16).substr(2, 64),
    status: 'confirmed',
    description: 'Payment for parking reservation',
    paymentId: 'payment003',
    reservationId: 'booking003',
    blockNumber: 5009,
    endorsingOrgs: ['Org1MSP', 'Org3MSP'],
  },
  {
    id: 'tx004',
    walletId: 'wallet001',
    userId: 'user001',
    type: 'payment',
    amount: 12.25,
    balanceBefore: 98.00,
    balanceAfter: 85.75,
    timestamp: '2024-12-03T17:30:00Z',
    blockchainTxHash: '0x' + Math.random().toString(16).substr(2, 64),
    status: 'confirmed',
    description: 'Payment for charging session',
    paymentId: 'payment004',
    sessionId: 'session002',
    blockNumber: 5151,
    endorsingOrgs: ['Org2MSP', 'Org3MSP'],
  },
  {
    id: 'tx005',
    walletId: 'wallet001',
    userId: 'user001',
    type: 'payment',
    amount: 20.00,
    balanceBefore: 85.75,
    balanceAfter: 65.75,
    timestamp: '2024-12-04T13:50:00Z',
    blockchainTxHash: '0x' + Math.random().toString(16).substr(2, 64),
    status: 'confirmed',
    description: 'Payment for parking reservation',
    paymentId: 'payment001',
    reservationId: 'booking001',
    blockNumber: 5233,
    endorsingOrgs: ['Org1MSP', 'Org3MSP'],
  },
  {
    id: 'tx006',
    walletId: 'wallet001',
    userId: 'user001',
    type: 'deposit',
    amount: 100.00,
    balanceBefore: 65.75,
    balanceAfter: 165.75,
    timestamp: '2024-12-04T14:00:00Z',
    blockchainTxHash: '0x' + Math.random().toString(16).substr(2, 64),
    status: 'pending',
    description: 'Wallet deposit',
    blockNumber: 5234,
    endorsingOrgs: ['Org3MSP'],
  },
];

// Mock Wallet Info
export const mockWalletInfo: WalletInfo = {
  id: 'wallet001',
  userId: 'user001',
  address: '0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb',
  balance: 150.00,
  currency: 'USD',
  createdAt: '2024-01-15T10:00:00Z',
  lastUpdated: '2024-12-04T14:00:00Z',
  transactions: mockTransactions,
  ...generateBlockchainMetadata(),
};

// Mock Login Response
export const mockLoginResponse: LoginResponse = {
  token: 'mock-jwt-token-' + Date.now(),
  user: mockUsers[0],
};

// Helper to simulate API delay
export const simulateDelay = (ms: number = 500) =>
  new Promise(resolve => setTimeout(resolve, ms));

// Helper to randomly fail (for testing error handling)
export const randomFail = (probability: number = 0.1) => {
  if (Math.random() < probability) {
    throw new Error('Random API failure for testing');
  }
};
